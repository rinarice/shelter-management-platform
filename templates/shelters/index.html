{% extends "base.html" %}
{% load static %}

{% block background %}
background-image: url('{% static "img/bg-12.png" %}');
{% endblock %}

{% block content %}
  
    <div class="row justify-content-center text-center mb-5">
      <div class="col-lg-8">
        <h1 class="text-white" style="margin-top: 40%;">Welcome to Our Shelter Family!</h1>
        <br>
        <p class="lead text-white mt-3">We're so glad you're here. Together, 
        we can create a better 
        future for our furry friends, dedicated caretakers, and cozy shelters. 
          Let’s make a difference!</p>
      </div>
    </div>
    
    <div class="mt-auto"></div>

    <div class="row justify-content-center mt-5 mb-5">
      <div class="col-lg-12 col-md-12" style="max-width: 1358px; margin: auto;"> 
        <div class="card card-body blur shadow-blur mx-3 mx-md-4" style="background: rgba(255, 255, 255, 0.8); border-radius: 15px;">
          <div class="row text-center">
            <div class="col-md-4 position-relative">
              <div class="p-3">
                <h5 class="font-weight-bold" style="color: #e91e63; font-size: 3rem;">
                  <span class="count" data-count="{{ num_shelters }}">0</span>
                </h5>
                <p class="font-weight-bold" style="color: black; font-size: 1.5rem;">Total Shelters</p>
                <p class="text-muted" style="font-size: 1.1rem; color: #333;">These shelters provide love and care while our furry friends are waiting for 
                  their 
                  forever homes.</p>
              </div>
            </div>

            <div class="col-md-4 position-relative">
              <div class="p-3">
                <h5 class="font-weight-bold" style="color: #e91e63; font-size: 3rem;">
                  <span class="count" data-count="{{ num_animals }}">0</span>
                </h5>
                <p class="font-weight-bold" style="color: black; font-size: 1.5rem;">Animals Available</p>
                <p class="text-muted" style="font-size: 1.1rem; color: #333;">Each of these adorable souls is in need of a loving caretaker. Will you be the
                  one to 
                  open your heart?</p>
              </div>
            </div>

            <div class="col-md-4 position-relative">
              <div class="p-3">
                <h5 class="font-weight-bold" style="color: #e91e63; font-size: 3rem;">
                  <span class="count" data-count="{{ num_caretakers }}">0</span>
                </h5>
                <p class="font-weight-bold" style="color: black; font-size: 1.5rem;">Caretakers</p>
                <p class="text-muted" style="font-size: 1.1rem; color: #333;">Dedicated individuals who go above and beyond to ensure our animals feel loved and cared for every single day.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row justify-content-center mt-4 mb-4">
      <div class="col-lg-8 text-center">
        <span class="text-white">You’ve visited this page {{ num_visits }} time{{ num_visits|pluralize }}. Thanks for stopping by!</span>
      </div>
    </div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const counters = document.querySelectorAll('.count');
        counters.forEach(counter => {
            const updateCount = () => {
                const target = +counter.getAttribute('data-count');
                const count = +counter.innerText;

                const increment = target / 150;

                if (count < target) {
                    counter.innerText = Math.ceil(count + increment);
                    setTimeout(updateCount, 50);
                } else {
                    counter.innerText = target;
                }
            };
            updateCount();
        });
    });
</script>
{% endblock %}
